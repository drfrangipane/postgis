#---------------------------------------------------------------
# Configuration Directives
#---------------------------------------------------------------

#
# We recommend that you install the Proj4 and GEOS libraries
# referenced below to get the most use out of your PostGIS
# database.

#
# Set USE_PROJ to 1 for Proj4 reprojection support (recommended)
#
# Reprojection allows you to transform coordinate systems
# in the database with the Transform() function.
#
# Download from: http://www.remotesensing.org/proj
#
USE_PROJ=@USE_PROJ@
PROJ_DIR=@PROJ_DIR@

#
# Set USE_GEOS to 1 for GEOS spatial predicate and operator
# support (recommended).
# GEOS installation directory defaults to /usr/local,
# set GEOS_DIR environment variable to change it.
#
# GEOS allows you to do exact topological tests, such as
# Intersects() and Touches(), as well as geometry operations,
# such as Buffer(), GeomUnion() and Difference().
#
# Download from: http://geos.refractions.net
#
USE_GEOS=@USE_GEOS@
GEOS_DIR=@GEOS_DIR@
# EXPERIMENTAL! use geos C-API (only available with GEOS-2.2.x and up)
USE_GEOS_CAPI=@USE_GEOS_CAPI@

#
# Set USE_JTS to 1 if you have libjts installed. 
#
USE_JTS=@USE_JTS@
JTS_INCLUDES=@JTS_INCLUDES@
JTS_LIBDIR=@JTS_LIBDIR@

#
# Set USE_STATS to 1 for new GiST statistics collection support
# Note that this support requires additional columns in 
# GEOMETRY_COLUMNS, so see the list archives for info or
# install a fresh database using postgis.sql.
# This option is useless for builds against PGSQL>=80 (stats
# are always gathered in that case, and you don't need additional
# columns in geometry_columns).
#
USE_STATS=1

#
# Set AUTOCACHE_BBOX to 0 if you want finer control over
# bounding box computation and caching for your geometries.
# If you do, bbox computattion strategies are listed in
# the file lwgeom/BBOXCACHE_BEHAVIOURS, but don't expect
# them to be easy nor consistent.
#
AUTOCACHE_BBOX=1

#
# Set USE_ICONV to 1 if you want the loader (shp2pgsql)
# to support UTF-8 output.
#
USE_ICONV=@USE_ICONV@
ICONV_LDFLAGS=@ICONV_LDFLAGS@

#
# PGSQL
#
PGCONFIG=@PGCONFIG@
PGFEINCLUDES=@PGFEINCLUDES@
PGBEINCLUDES=@PGBEINCLUDES@
PGFELIBS=@PGFELIBS@
PGBELIBS=@PGBELIBS@
PORTNAME=@PORTNAME@

#
# Docbook
#
XSLBASE=@XSLBASE@
XSLTPROC=@XSLTPROC@
PDFXMLTEX=@PDFXMLTEX@
JW=@JW@
DOC_RULE=@DOC_RULE@

#
# Compilers
#
CC=@CC@
CXX=@CXX@
ELF_SYSTEM=@ELF_SYS@

#
# Other programs
#
PERL=@PERL@
FLEX=@FLEX@
YACC=@YACC@
LN_S=@LN_S@
INSTALL=@INSTALL@ -c
INSTALL_DATA=$(INSTALL) -m 644
INSTALL_BIN=$(INSTALL) -m 755
INSTALL_LIB=$(INSTALL) -m 755
INSTALL_SHLIB=$(INSTALL_LIB)

#
# PATHS
#
prefix=@prefix@
exec_prefix=@exec_prefix@
bindir=@bindir@
datadir=@datadir@
mandir=@mandir@
docdir=@docdir@
libexecdir=@libexecdir@
libdir=@libdir@
LPATH=@LPATH@

#
# DLL 
#
DLSUFFIX=@DLSUFFIX@
DLFLAGS=@DLFLAGS@
# these are for win32 and cygwin platforms
DLLTOOL=@DLLTOOL@
DLLWRAP=@DLLWRAP@

#
# EXE
#
EXE=@EXE@

#
# HOST OS
#
HOST_OS=@HOST_OS@


#---------------------------------------------------------------
# END OF CONFIGURATION
#---------------------------------------------------------------

# Use JTS instead of GEOS if available
ifeq ($(USE_JTS),1)
	USE_GEOS=0
endif

#---------------------------------------------------------------
# Test the version string and set the USE_VERSION macro
# appropriately.
#
VERSION=$(shell $(PGCONFIG) --version)
ifneq ($(findstring 7.1,$(VERSION)),)
	USE_VERSION=71
else
	ifneq ($(findstring 7.2,$(VERSION)),)
		USE_VERSION=72
	else
		ifneq ($(findstring 7.3,$(VERSION)),)
			USE_VERSION=73
		else
			ifneq ($(findstring 7.4,$(VERSION)),)
				USE_VERSION=74
			else
				ifneq ($(findstring 8.0,$(VERSION)),)
					USE_VERSION=80
				else
					ifneq ($(findstring 8.1,$(VERSION)),)
						USE_VERSION=81
					else
						USE_VERSION=82
					endif
				endif
			endif
		endif
	endif
endif

